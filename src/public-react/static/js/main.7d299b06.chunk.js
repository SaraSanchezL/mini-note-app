(this["webpackJsonptake-notes"]=this["webpackJsonptake-notes"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(10),s=n.n(i),o=n(13),a=n(15),l=n(5),r={getNotesFromApi:function(){return console.log("Se est\xe1n pidiendo las notas de la app"),fetch("http://localhost:4000/notes",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},saveNotesApi:function(e){return console.log("Se est\xe1n enviando datos:",e),fetch("http://localhost:4000/save-note",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e}))},deleteNoteApi:function(e){return fetch("http://localhost:4000/delete-note",{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",id:e}}).then((function(e){return e.json()})).then((function(e){return e}))}},u=(n(20),n(14)),j=n(1),d=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),d=o[0],h=o[1],p=Object(c.useState)(""),b=Object(l.a)(p,2),f=b[0],m=b[1];function O(e){return Math.ceil(Math.random()*e)}var N=Object(c.useState)(O(100)),x=Object(l.a)(N,2),v=x[0],g=x[1];Object(c.useEffect)((function(){r.getNotesFromApi().then((function(e){i(e.notes)}))}),[]),Object(c.useEffect)((function(){r.getNotesFromApi().then((function(e){i(e.notes)}))}),[v]);var S=function(e){var t=parseInt(e.currentTarget.id);n.find((function(e){return e.id===t})).id===t&&(r.deleteNoteApi(t).then((function(e){console.log("Delete note")})),g(O(100)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("header",{className:"header",children:Object(j.jsx)("h1",{className:"mainTitle",children:"Save Your Notes"})}),Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("form",{action:"",onSubmit:function(e){var t;e.preventDefault(),t={id:n.length+1,title:d,description:f},r.saveNotesApi(t).then((function(e){console.log("Add note"),i([].concat(Object(a.a)(n),[t]))})),g(O(100)),h(""),m("")},children:[Object(j.jsx)("label",{className:"label",htmlFor:"title",children:"Title"}),Object(j.jsx)("input",{className:"inputForm",type:"text",name:"title",id:"title",onChange:function(e){h(e.target.value)},value:d}),Object(j.jsx)("label",{className:"label",htmlFor:"description",children:"Description"}),Object(j.jsx)("input",{className:"inputForm",type:"text",name:"description",id:"description",onChange:function(e){m(e.target.value)},value:f}),Object(j.jsx)("input",{className:"inputBtn",type:"submit",value:"New Note"})]})}),Object(j.jsx)("section",{className:"sectionNotes",children:Object(j.jsx)("ul",{className:"listNotes",children:n.map((function(e){return Object(j.jsxs)("li",{className:"itemLi",id:e.id,children:[Object(j.jsx)("h2",{className:"titleNote",children:e.title}),Object(j.jsx)("p",{className:"noteDefinition",children:e.description}),Object(j.jsx)("button",{className:"btnDelete",onClick:S,id:e.id,children:"X"})]},e.id)}))})})]}),Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("p",{children:"Simple App Notes"}),Object(j.jsxs)("p",{className:"text",children:[Object(j.jsx)(u.a,{})," Sara S\xe1nchez"]})]})]})};n(22);s.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(d,{})}),document.querySelector("#root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.7d299b06.chunk.js.map