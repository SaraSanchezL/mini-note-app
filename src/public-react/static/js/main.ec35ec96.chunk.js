(this["webpackJsonptake-notes"]=this["webpackJsonptake-notes"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(10),o=n.n(i),s=n(13),a=n(15),r=n(5),l={getNotesFromApi:function(){return console.log("Se est\xe1n pidiendo las notas de la app"),fetch("https://mini-note-app.herokuapp.com/notes",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},saveNotesApi:function(e){return console.log("Se est\xe1n enviando datos:",e),fetch("https://mini-note-app.herokuapp.com/save-note",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e}))},deleteNoteApi:function(e){return fetch("https://mini-note-app.herokuapp.com/delete-note",{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",id:e}}).then((function(e){return e.json()})).then((function(e){return e}))}},u=(n(20),n(14)),j=n(1),p=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(""),s=Object(r.a)(o,2),p=s[0],d=s[1],h=Object(c.useState)(""),m=Object(r.a)(h,2),b=m[0],f=m[1];function O(e){return Math.ceil(Math.random()*e)}var N=Object(c.useState)(O(100)),x=Object(r.a)(N,2),v=x[0],g=x[1];Object(c.useEffect)((function(){l.getNotesFromApi().then((function(e){i(e.notes)}))}),[]),Object(c.useEffect)((function(){l.getNotesFromApi().then((function(e){i(e.notes)}))}),[v]);var S=function(e){var t=parseInt(e.currentTarget.id);n.find((function(e){return e.id===t})).id===t&&(l.deleteNoteApi(t).then((function(e){console.log("Delete note")})),g(O(100)))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("header",{className:"header",children:Object(j.jsx)("h1",{className:"mainTitle",children:"Save Your Notes"})}),Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("form",{action:"",onSubmit:function(e){var t;e.preventDefault(),t={id:n.length+1,title:p,description:b},l.saveNotesApi(t).then((function(e){console.log("Add note"),i([].concat(Object(a.a)(n),[t]))})),g(O(100)),d(""),f("")},children:[Object(j.jsx)("label",{className:"label",htmlFor:"title",children:"Title"}),Object(j.jsx)("input",{className:"inputForm",type:"text",name:"title",id:"title",onChange:function(e){d(e.target.value)},value:p}),Object(j.jsx)("label",{className:"label",htmlFor:"description",children:"Description"}),Object(j.jsx)("input",{className:"inputForm",type:"text",name:"description",id:"description",onChange:function(e){f(e.target.value)},value:b}),Object(j.jsx)("input",{className:"inputBtn",type:"submit",value:"New Note"})]})}),Object(j.jsx)("section",{className:"sectionNotes",children:Object(j.jsx)("ul",{className:"listNotes",children:n.map((function(e){return Object(j.jsxs)("li",{className:"itemLi",id:e.id,children:[Object(j.jsx)("h2",{className:"titleNote",children:e.title}),Object(j.jsx)("p",{className:"noteDefinition",children:e.description}),Object(j.jsx)("button",{className:"btnDelete",onClick:S,id:e.id,children:"X"})]},e.id)}))})})]}),Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("p",{children:"Simple App Notes"}),Object(j.jsxs)("p",{className:"text",children:[Object(j.jsx)(u.a,{})," Sara S\xe1nchez"]})]})]})};n(22);o.a.render(Object(j.jsx)(s.a,{children:Object(j.jsx)(p,{})}),document.querySelector("#root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ec35ec96.chunk.js.map