{"version":3,"sources":["services/api-notes.js","components/App.js","index.js"],"names":["objToExport","getNotesFromApi","console","log","fetch","method","then","response","json","data","saveNotesApi","headers","body","JSON","stringify","deleteNoteApi","id","App","useState","notes","setNotes","title","setTitle","description","setDescription","getRandomNumber","max","Math","ceil","random","refresh","setRefresh","useEffect","apiNotes","handleClickDelete","ev","idBtn","parseInt","currentTarget","find","note","className","action","onSubmit","preventDefault","length","htmlFor","type","name","onChange","target","value","map","onClick","ReactDOM","render","document","querySelector"],"mappings":"mNAqDeA,EANK,CAClBC,gBA3CsB,WAEtB,OADAC,QAAQC,IAAI,4CACLC,MAPiB,4CAOW,CAAEC,OAAQ,QAC1CC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,OAAOA,MAuCXC,aAnCmB,SAACD,GAEpB,OADAP,QAAQC,IAAI,8BAA4BM,GACjCL,MAfgB,gDAgBA,CACrBC,OAAQ,OACRM,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUL,KAGpBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,OAAOA,MAyBXM,cArBoB,SAACC,GACrB,OAAOZ,MA5BkB,kDA6BA,CACvBC,OAAQ,SACRM,QAAS,CACP,eAAgB,mBAChB,OAAU,mBACV,GAAMK,KAIPV,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,OAAOA,O,uBC6EEQ,EAlHH,WACV,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEA,EAA0BF,mBAAS,IAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAsCJ,mBAAS,IAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KAGA,SAASC,EAAgBC,GACvB,OAAOC,KAAKC,KAAKD,KAAKE,SAAWH,GAEnC,MAA8BR,mBAASO,EAAgB,MAAvD,mBAAOK,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACRC,EAAShC,kBAAkBK,MAAK,SAAAC,GAC9Ba,EAASb,EAASY,YAEnB,IAEHa,qBAAU,WACRC,EAAShC,kBAAkBK,MAAK,SAAAC,GAC9Ba,EAASb,EAASY,YAEnB,CAACW,IAEJ,IA0BMI,EAAoB,SAACC,GACzB,IAAMC,EAAQC,SAASF,EAAGG,cAActB,IACzBG,EAAMoB,MAAM,SAAAC,GAAI,OAAIA,EAAKxB,KAAOoB,KACpCpB,KAAOoB,IAChBH,EAASlB,cAAcqB,GAAO9B,MAAK,SAAAC,GACjCL,QAAQC,IAAI,kBAEd4B,EAAWN,EAAgB,QAoB/B,OACE,qCAEE,wBAAQgB,UAAU,SAAlB,SACE,oBAAIA,UAAU,YAAd,+BAGF,uBAAMA,UAAU,OAAhB,UACE,8BACE,uBAAMC,OAAO,GAAGC,SAhDL,SAAAR,GANM,IAAA1B,EAOvB0B,EAAGS,iBAPoBnC,EAQN,CACfO,GAAIG,EAAM0B,OAAS,EACnBxB,MAAOA,EACPE,YAAaA,GAVfU,EAASvB,aAAaD,GAAMH,MAAK,SAAAC,GAC/BL,QAAQC,IAAI,YACZiB,EAAS,GAAD,mBAAKD,GAAL,CAAYV,QAUtBsB,EAAWN,EAAgB,MAC3BH,EAAS,IACTE,EAAe,KAuCT,UACE,uBAAOiB,UAAU,QAAQK,QAAQ,QAAjC,mBACA,uBAAOL,UAAU,YAAYM,KAAK,OAAOC,KAAK,QAAQhC,GAAG,QAAQiC,SAhEvD,SAAAd,GAClBb,EAASa,EAAGe,OAAOC,QA+D6EA,MAAO9B,IAC/F,uBAAOoB,UAAU,QAAQK,QAAQ,cAAjC,yBACA,uBAAOL,UAAU,YAAYM,KAAK,OAAOC,KAAK,cAAchC,GAAG,cAAciC,SA9D7D,SAAAd,GACxBX,EAAeW,EAAGe,OAAOC,QA6DyFA,MAAO5B,IACjH,uBAAOkB,UAAU,WAAWM,KAAK,SAASI,MAAM,kBAIpD,yBAASV,UAAU,eAAnB,SACE,oBAAIA,UAAU,YAAd,SAlCCtB,EAAMiC,KAAI,SAAAZ,GACf,OACE,qBAAkBC,UAAU,SAASzB,GAAIwB,EAAKxB,GAA9C,UACE,oBAAIyB,UAAU,YAAd,SAA2BD,EAAKnB,QAChC,mBAAGoB,UAAU,iBAAb,SAA+BD,EAAKjB,cACpC,wBAAQkB,UAAU,YAAYY,QAASnB,EAAmBlB,GAAIwB,EAAKxB,GAAnE,iBAHOwB,EAAKxB,cAwChB,yBAAQyB,UAAU,SAAlB,UACE,iDACA,oBAAGA,UAAU,OAAb,UAAoB,cAAC,IAAD,IAApB,6B,MCzGRa,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,cAAc,Y","file":"static/js/main.ec35ec96.chunk.js","sourcesContent":["const EXPRESS_SERVER_NOTES = `https://mini-note-app.herokuapp.com/notes`;\nconst EXPRESS_SERVER_SAVE = `https://mini-note-app.herokuapp.com/save-note`;\nconst EXPRESS_SERVER_DELETE = `https://mini-note-app.herokuapp.com/delete-note`;\n\n\nconst getNotesFromApi = () => {\n  console.log('Se están pidiendo las notas de la app');\n  return fetch(EXPRESS_SERVER_NOTES, { method: \"GET\" })\n    .then(response => response.json())\n    .then(data => {\n      return data;\n    });\n};\n\nconst saveNotesApi = (data) => {\n  console.log(\"Se están enviando datos:\", data);\n  return fetch(\n    EXPRESS_SERVER_SAVE, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data)\n  }\n  )\n    .then(response => response.json())\n    .then(data => {\n      return data;\n    });\n};\n\nconst deleteNoteApi = (id) => {\n  return fetch(\n    EXPRESS_SERVER_DELETE, {\n    method: \"DELETE\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      'id': id,\n    },\n  }\n  )\n    .then(response => response.json())\n    .then(data => {\n      return data;\n    });\n};\n\n\nconst objToExport = {\n  getNotesFromApi: getNotesFromApi,\n  saveNotesApi: saveNotesApi,\n  deleteNoteApi: deleteNoteApi,\n};\n\nexport default objToExport;\n","import React, { useEffect, useState } from 'react';\nimport apiNotes from '../services/api-notes';\nimport \"../stylesheets/app.scss\";\nimport { BiCopyright } from \"react-icons/bi\";\n\nconst App = () => {\n  const [notes, setNotes] = useState([]);\n\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n\n\n  function getRandomNumber(max) {\n    return Math.ceil(Math.random() * max);\n  }\n  const [refresh, setRefresh] = useState(getRandomNumber(100));\n\n  useEffect(() => {\n    apiNotes.getNotesFromApi().then(response => {\n      setNotes(response.notes);\n    });\n  }, []);\n\n  useEffect(() => {\n    apiNotes.getNotesFromApi().then(response => {\n      setNotes(response.notes);\n    });\n  }, [refresh]);\n\n  const handleTitle = ev => {\n    setTitle(ev.target.value);\n  };\n\n  const handleDescription = ev => {\n    setDescription(ev.target.value);\n  };\n\n  const saveDataNotesApi = data => {\n    apiNotes.saveNotesApi(data).then(response => {\n      console.log('Add note');\n      setNotes([...notes, data]);\n    });\n  };\n  const handleForm = ev => {\n    ev.preventDefault();\n    saveDataNotesApi({\n      id: notes.length + 1,\n      title: title,\n      description: description\n    });\n    setRefresh(getRandomNumber(100))\n    setTitle('');\n    setDescription('');\n  };\n\n  const handleClickDelete = (ev) => {\n    const idBtn = parseInt(ev.currentTarget.id);\n    const noteId = notes.find((note => note.id === idBtn));\n    if (noteId.id === idBtn) {\n      apiNotes.deleteNoteApi(idBtn).then(response => {\n        console.log('Delete note');\n      })\n      setRefresh(getRandomNumber(100))\n    }\n  }\n\n  const renderAppNotes = () => {\n    return notes.map(note => {\n      return (\n        <li key={note.id} className=\"itemLi\" id={note.id}>\n          <h2 className=\"titleNote\">{note.title}</h2>\n          <p className=\"noteDefinition\">{note.description}</p>\n          <button className=\"btnDelete\" onClick={handleClickDelete} id={note.id}>X</button>\n        </li>\n      );\n    });\n\n\n  }\n\n\n  // render\n  return (\n    <>\n\n      <header className=\"header\">\n        <h1 className=\"mainTitle\">Save Your Notes</h1>\n      </header>\n\n      <main className=\"main\">\n        <div>\n          <form action=\"\" onSubmit={handleForm}>\n            <label className=\"label\" htmlFor=\"title\">Title</label>\n            <input className=\"inputForm\" type=\"text\" name=\"title\" id=\"title\" onChange={handleTitle} value={title} />\n            <label className=\"label\" htmlFor=\"description\">Description</label>\n            <input className=\"inputForm\" type=\"text\" name=\"description\" id=\"description\" onChange={handleDescription} value={description} />\n            <input className=\"inputBtn\" type=\"submit\" value=\"New Note\" />\n          </form>\n        </div>\n\n        <section className=\"sectionNotes\">\n          <ul className=\"listNotes\">\n            {renderAppNotes()}\n          </ul>\n        </section>\n\n\n      </main>\n\n      <footer className=\"footer\">\n        <p>Simple App Notes</p>\n        <p className=\"text\"><BiCopyright /> Sara Sánchez</p>\n\n      </footer>\n\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './stylesheets/index.scss';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}